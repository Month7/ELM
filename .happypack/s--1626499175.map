{"version":3,"sources":["src\\js\\register\\info\\render.js"],"names":["tpl","data","opts","nickname","email","realname","sex","birthday","btnText","update","container","innerHTML","region","name","result","code","regionData","regionCode","split","console","log","initData"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;AAGA,IAAMA,MAAI,SAAJA,GAAI,GAAmB;AAAA,QAAlBC,IAAkB,uEAAb,EAAa;AAAA,QAAVC,IAAU,uEAAL,EAAK;;AACzB,+VAKUD,KAAKE,QAAL,IAAe,EALzB,oPASoHF,KAAKG,KAAL,IAAY,EAThI,iPAcUH,KAAKI,QAAL,IAAe,EAdzB,2JAkB2DJ,KAAKK,GAAL,IAAU,EAlBrE,wUAyBiGL,KAAKM,QAAL,IAAe,EAzBhH,2RAiC6DL,KAAKM,OAAL,IAAc,KAjC3E;AAqCH,CAtCD;;;uEAyCe,iBAAMN,IAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,4BACPA,KAAKO,MADE;AAAA;AAAA;AAAA;;AAEPP,6BAAKQ,SAAL,CAAeC,SAAf,GAAyBX,GAAzB;AACMY,8BAHC,GAGM,qBAAY;AACrBF,uCAAU,kBAAE,uBAAF,CADW;AAErBG,kCAAK;AAFgB,yBAAZ,CAHN;AAAA;AAAA;;AAAA;AAAA;AAAA,+BASY,sBAAU,UAAV,EAAqB,EAArB,CATZ;;AAAA;AASDC,8BATC;;AAUP,4BAAGA,OAAOC,IAAP,IAAa,GAAhB,EAAoB;AAChBb,iCAAKQ,SAAL,CAAeC,SAAf,GAAyBX,IAAIc,OAAOb,IAAX,CAAzB;AACMe,sCAFU,GAECF,OAAOb,IAAP,CAAYgB,UAAZ,CAAuBC,KAAvB,CAA6B,GAA7B,KAAmC,EAFpC;;AAGhBC,oCAAQC,GAAR,CAAYJ,UAAZ;AACMJ,mCAJU,GAIH,qBAAW;AACpBF,2CAAU,kBAAE,uBAAF,CADU;AAEpBG,sCAAK,QAFe;AAGpBQ,0CAASL;AAHW,6BAAX,CAJG;AASnB;;AAnBM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K","file":"render.js","sourceRoot":"D:/account-system-sdk","sourcesContent":["import Regtion from '../../common/region.js';\r\nimport {getId as $} from '../../common/utils.js';\r\nimport {fetchJson} from '../../common/fetch.js';\r\nimport Region from '../../common/region.js';\r\n\r\nconst tpl=(data={},opts={})=>{\r\n    return `<div id=\"register-info-wrapper\" class=\"register-info-wrapper\">\r\n    <form id=\"register-info-form\" onsubmit=\"return false\">\r\n        <label>\r\n            <span>昵称：</span>\r\n            <input id=\"register-info-nickname\" name=\"nickname\" type=\"text\" placeholder=\"昵称\" valid=\"present, noOther\" value=\"\r\n            ${data.nickname||''}\">\r\n        </label>\r\n        <label>\r\n            <span>电子邮箱：</span>\r\n            <input id=\"register-info-email\" name=\"email\" type=\"text\" placeholder=\"电子邮箱\" valid=\"present, email\" value=\"${data.email||''}\">\r\n        </label>\r\n        <label>\r\n            <span>真实姓名：</span>\r\n            <input id=\"register-info-realname\" name=\"realname\" type=\"text\" placeholder=\"真实姓名\" value=\"\r\n            ${data.realname||''}\">\r\n        </label>\r\n        <label>\r\n            <span>性别：</span>\r\n            <select id=\"register-info-sex\" name=\"sex\" value=\"${data.sex||''}\">\r\n                <option value=\"1\">男</option>\r\n                <option value=\"2\">女</option>\r\n            </select>\r\n        </label>\r\n        <label>\r\n            <span>生日：</span>\r\n            <input id=\"register-info-birthday\" name=\"birthday\" type=\"date\" placeholder=\"生日\" value=\"${data.birthday||''}\">\r\n        </label>\r\n        <label>\r\n            <span>居住地：</span>\r\n            <div id=\"register-info-address\"></div>\r\n        </label>\r\n        <label>\r\n            <span>&nbsp;</span>\r\n            <input id=\"register-info-btn\" type=\"submit\" value=\"${opts.btnText||'下一步'}\">\r\n        </label>\r\n    </form>\r\n    </div>`\r\n}\r\n\r\n\r\nexport default async(opts)=>{\r\n    if(!opts.update){\r\n        opts.container.innerHTML=tpl;\r\n        const region=new Regtion({\r\n            container:$('register-info-address'),\r\n            name:'region'\r\n        })\r\n    }\r\n    else{\r\n        const result=await fetchJson('/profile',{});\r\n        if(result.code==200){\r\n            opts.container.innerHTML=tpl(result.data);\r\n            const regionData=result.data.regionCode.split(',')||'';\r\n            console.log(regionData);\r\n            const region=new Region({\r\n                container:$('register-info-address'),\r\n                name:'region',\r\n                initData:regionData\r\n            })\r\n        }\r\n    }\r\n}"]}